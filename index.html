<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Product Selection (Consultation Only)</title>
<meta name="robots" content="noindex, nofollow">
<style>
body { font-family: sans-serif; padding: 20px; }
.lang button { margin-right: 5px; }
.product { border:1px solid #ddd; padding:10px; margin-bottom:10px; display:flex; gap:10px; }
.product img { width:100px; height:auto; }
.cart { border-top:2px solid #000; padding-top:10px; }
input[type=number]{ width:60px; }
</style>
</head>
<body>

<div class="lang">
  <button onclick="setLang('jp')">日本語</button>
  <button onclick="setLang('en')">English</button>
</div>

<h2 id="title">商品構成選択（相談用）</h2>
<p id="desc">ご希望の商品と数量を選択してください。</p>

<div id="products"></div>

<div class="cart">
  <h3 id="cartTitle">選択内容</h3>
  <ul id="cartList"></ul>
  <p>
    クーポン:
    <input id="coupon" placeholder="optional">
    <button onclick="applyCoupon()">適用</button>
  </p>
  <strong id="totalText">合計金額: ¥0</strong><br><br>
  <button onclick="goLine()">LINEで相談する</button>
</div>

<footer style="font-size:12px;color:#666;margin-top:30px;">
本ページは個人相談用の参考ページです。オンライン注文・決済は行っておりません。
</footer>

<script>
let lang = "jp";
let discount = 0;

const text = {
  jp: {
    title: "商品構成選択（相談用）",
    desc: "ご希望の商品と数量を選択してください。",
    cart: "選択内容",
    total: "合計金額"
  },
  en: {
    title: "Product Selection (Consultation Only)",
    desc: "Select products and quantities for consultation.",
    cart: "Selected Items",
    total: "Estimated Total"
  }
};

const products = [
 {code:"SET-01", name:{jp:"基本ケアセット", en:"Basic Care Set"}, price:24200, img:"images/set01.jpg"},
 {code:"CR-01", name:{jp:"保湿クリーム", en:"Moisture Cream"}, price:9700, img:"images/cr01.jpg"},
 {code:"MS-01", name:{jp:"コラーゲンマスク", en:"Collagen Mask"}, price:10000, img:"images/ms01.jpg"}
];

let cart = {};

function setLang(l){
 lang=l;
 document.getElementById("title").innerText=text[l].title;
 document.getElementById("desc").innerText=text[l].desc;
 document.getElementById("cartTitle").innerText=text[l].cart;
 render();
}

function render(){
 const div=document.getElementById("products");
 div.innerHTML="";
 products.forEach(p=>{
   div.innerHTML+=`
   <div class="product">
     <img src="${p.img}">
     <div>
       <strong>${p.code}</strong><br>
       ${p.name[lang]}<br>
       ¥${p.price.toLocaleString()}<br>
       Qty:
       <input type="number" min="1" max="20" value="${cart[p.code]||1}"
         onchange="updateQty('${p.code}',this.value)">
     </div>
   </div>`;
 });
 renderCart();
}

function updateQty(code,val){
 cart[code]=parseInt(val);
 renderCart();
}

function renderCart(){
 let ul=document.getElementById("cartList");
 ul.innerHTML="";
 let total=0;
 for(let c in cart){
   let p=products.find(x=>x.code===c);
   let sub=p.price*cart[c];
   total+=sub;
   ul.innerHTML+=`<li>${c} × ${cart[c]} = ¥${sub.toLocaleString()}</li>`;
 }
 total=Math.max(0,total-discount);
 document.getElementById("totalText").innerText=
   text[lang].total + ": ¥" + total.toLocaleString();
}

function applyCoupon(){
 let c=document.getElementById("coupon").value;
 if(c==="WELCOME5") discount=1000;
 else discount=0;
 renderCart();
}

function goLine(){
 alert("選択内容をスクリーンショットしてLINEでお送りください。");
}

setLang("jp");
</script>

</body>
</html>

